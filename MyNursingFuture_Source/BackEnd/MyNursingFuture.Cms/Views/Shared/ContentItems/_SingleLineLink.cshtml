@using MyNursingFuture.BL.Managers
@model MyNursingFuture.Cms.Models.ContentItemViewModel
@{
    var nameTextButton = "";
    var hrefButton = "";
    var typeButton = "";
    if (!string.IsNullOrEmpty(Model.Link))
    {
        var linkObj = (Json.Decode(Model.Link));
        nameTextButton = linkObj.text;
        hrefButton = linkObj.href;
        typeButton = linkObj.type;
    }
}

<h2>Link</h2>
    
<div id="line-link" class="form-group" >
    @Html.HiddenFor(x=>x.Link)
    <div class="form-group">
        <label>Link Text</label>
        <input type="text" value="@nameTextButton" id="name-text-link-line"/>
        <span class="error-message warning" id="name-link-line-text-error" style="display: none">Text for the link is required</span>
    </div>

    <div class="row text-link-select" >
        <div class="col-sm-2">
            <input type="checkbox" value="text" name="text-link-line-group-check" @(typeButton == "text" ? "checked":"")/>
            Custom URL
        </div>
        <div class="col-sm-6">
            @if (typeButton == "text")
            {
                <input type="text" value="@hrefButton" />
            }
            else
            {
                <input type="text" value="" />
            }
            <span class="error-message warning" id="text-link-line-text-error" style="display: none">An URL for the text link is required</span>
        </div>
    </div>

    <div class="row sections-link-select">
        <div class="col-sm-2">
            <input type="checkbox" value="sections" name="text-link-line-group-check"  @(typeButton == "sections" ? "checked":"")/>
            Sections
        </div>
        <div class="col-sm-4">
            <select>
                @foreach (var item in Model.Links)
                {
                    if (item.Type == LinksTypes.SECTION.ToString())
                    {
                        var selected = "";
                        if (item.Href == hrefButton)
                        {
                            selected = "selected";
                        }
                        <option @selected value="@item.Href">@item.Name</option>
                    }
                }
            </select>
        </div>
    </div>

    <div class="row articles-link-select">

        <div class="col-sm-2">
            <input type="checkbox" value="articles" name="text-link-line-group-check" @(typeButton == "articles" ? "checked":"") />
            Articles
        </div>
        <div class="col-sm-4">
            <select>
                @foreach (var item in Model.Links)
                {
                    if (item.Type == LinksTypes.ARTICLE.ToString())
                    {
                        var selected = "";
                        if (item.Href == hrefButton)
                        {
                            selected = "selected";
                        }
                        <option @selected value="@item.Href">@item.Name</option>
                    }
                }
            </select>

        </div>
    </div>

    <div class="row sectors-link-select">

        <div class="col-sm-2">
            <input type="checkbox" value="sectors" name="text-link-line-group-check" @(typeButton == "sectors" ? "checked":"") />
            Sectors
        </div>
        <div class="col-sm-4">
            <select>
                @foreach (var item in Model.Links)
                {
                    if (item.Type == LinksTypes.SECTOR.ToString())
                    {
                        var selected = "";
                        if (item.Href == hrefButton)
                        {
                            selected = "selected";
                        }
                        <option @selected value="@item.Href">@item.Name</option>
                    }
                }
            </select>

        </div>
    </div>

    <div class="row roles-link-select">

        <div class="col-sm-2">
            <input type="checkbox" value="roles" name="text-link-line-group-check" @(typeButton == "roles" ? "checked":"") />
            Roles
        </div>
        <div class="col-sm-4">
            <select>
                @foreach (var item in Model.Links)
                {
                    if (item.Type == LinksTypes.ROLE.ToString())
                    {
                        var selected = "";
                        if (item.Href == hrefButton)
                        {
                            selected = "selected";
                        }
                        <option @selected value="@item.Href">@item.Name</option>
                    }
                }
            </select>

        </div>
    </div>

    <div class="row domains-link-select">
        <div class="col-sm-2">
            <input type="checkbox" value="domains"  name="text-link-line-group-check" @(typeButton == "domains" ? "checked":"")/>
            Domains
        </div>
        <div class="col-sm-4">
            <select>
                @foreach (var item in Model.Links)
                {
                    if (item.Type == LinksTypes.DOMAIN.ToString())
                    {
                        var selected = "";
                        if (item.Href == hrefButton)
                        {
                            selected = "selected";
                        }
                        <option @selected value="@item.Href">@item.Name</option>
                    }
                }
            </select>

        </div>
    </div>

    <div class="row aspects-link-select">
        <div class="col-sm-2"> 
            <input type="checkbox" value="aspects" name="text-link-line-group-check" @(typeButton == "aspects" ? "checked":"") />
            Aspects
        </div>
        <div class="col-sm-4">
            <select>
                @foreach (var item in Model.Links)
                {
                    if (item.Type == LinksTypes.ASPECT.ToString())
                    {
                        var selected = "";
                        if (item.Href == hrefButton)
                        {
                            selected = "selected";
                        }
                        <option @selected value="@item.Href">@item.Name</option>
                    }
                }
            </select>

        </div>
    </div>
</div>